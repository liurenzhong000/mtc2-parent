## 模块说明 ##

> 本模块解决两件事情：
1. 全网交易记录存入mongodb
2. 在全网交易记录遍历中，保存用户的余额
3. 交易记录查询接口

## 实现方式 ##
> 第一点：
1. ~~倒序获得交易记录，如果有新区块就扫新区块，没有就扫之前未扫的区块，直到扫到规定时间的区块（配置文件里配）~~
    1. ~~每笔记录都判断是否是 我们平台未被确认的交易记录~~
        1. ~~如果是就更新状态~~
        2. ~~如果不是，则直接存入mongodb~~

3. ~~定时清理数据~~
    1. ~~是计划任务产生的，且不是我们平台的用户的(IsPlatformUser为true)，然后在配置文件配置的需要的时间以上的记录被清除~~

> 第二点：
1. ~~首次通过服务器请求的钱包地址(钱包地址:合约地址)，缓存中没有的情况~~
    1. ~~通过节点请求他的余额~~
    1. ~~将该余额放到缓存中, 同时，将此时的blockNum也存到缓存中~~
2. ~~如果缓存中有钱包地址，则直接返回对应的余额~~
3. ~~在全网交易遍历中~~
    1. ~~判断from或to的地址，是否在缓存中存在（使用本平台的地址）~~
        1. ~~如果存在，则删除钱包缓存~~

> 第三点
1. ~~手机端查询交易记录的时候，需要把IsPlatformUser设置为true~~